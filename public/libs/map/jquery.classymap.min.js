/*!
 * jQuery ClassyMap
 * vox.SPACE
 *
 * Written by Marius Stanciu - Sergiu <marius@vox.space>
 * Licensed under the MIT license https://vox.SPACE/LICENSE-MIT
 * Version 1.1.1
 *
 */(function(f){f.fn.ClassyMap=function(){return this.each(function(){var a=f(this),k="iframe",n="",l="http:",m,c,d,e,p,g=10,h="",b="",q="";"https:"===document.location.protocol&&(l="https:");if(a.data("address")){k="image"===a.data("output")?"image":"iframe";g=parseInt(a.data("zoom"),10);if(isNaN(g)||0>g||20<g)g=10;m=a.data("lang")&&"auto"!==a.data("lang")?f.trim(a.data("lang")):window.navigator.userLanguage||window.navigator.language;if("image"===k){c=parseInt(a.data("width"),10);if(isNaN(c)||10>c|| 3E3<c)c=500;d=parseInt(a.data("height"),10);if(isNaN(d)||10>d||2E3<d)d=300;switch(a.data("type")){case "roadmap":e="roadmap";break;case "satellite":e="satellite";break;case "terrain":e="terrain";break;case "hybrid":e="hybrid";break;default:e="roadmap"}switch(a.data("pin")){case "tiny":pin_size="tiny";break;case "medium":pin_size="small";break;case "large":pin_size="mid";break;default:pin_size="small"}(k=f.trim(a.data("color")))||(k="red");b+=l+"//maps.googleapis.com/maps/api/staticmap?scale=2&amp;sensor=true&amp;center="+ encodeURIComponent(a.data("address"));b+="&amp;zoom="+g+"&amp;size="+parseInt(c/2,10)+"x"+parseInt(d/2,10)+"&amp;maptype="+e;b+="&amp;markers=size:"+pin_size+"%7Ccolor:"+k+"%7Clabel:%7C"+encodeURIComponent(a.data("address"));b+="&amp;language="+m;h+='<img alt="'+a.data("address")+'" title="'+a.data("address")+'" src="'+b+'" />';a.html(h)}else{(c=f.trim(a.data("width")))||(c="500px");parseInt(c,10)===c&&(c+="px");(d=f.trim(a.data("height")))||(d="300px");parseInt(d,10)===d&&(d+="px");switch(a.data("type")){case "roadmap":e= "m";break;case "satellite":e="k";break;case "terrain":e="p";break;case "hybrid":e="h";break;default:e="m"}p="0"===a.data("bubble")||"false"===a.data("bubble")?"near":"addr";n=a.data("description")?"("+a.data("description")+")":"";14<g?f.get(l+"//maps.googleapis.com/maps/api/geocode/json?address="+encodeURIComponent(a.data("address"))+"&sensor=false",function(f){q="OK"===f.status?f.results[0].geometry.location.lat+","+f.results[0].geometry.location.lng:"";b+=l+"//maps.google.com/maps?hl="+m+"&amp;ie=utf8&amp;output=embed&amp;q="+ encodeURIComponent(a.data("address")+n);b+="&amp;z="+g+"&amp;t="+e+"&amp;iwd=1&amp;mrt=loc&amp;iwloc="+p+"&amp;ll="+q;h+='<iframe style="border: none;" width="'+c+'" height="'+d+'" src="'+b+'"></iframe>';a.html(h)},"json"):(b+=l+"//maps.google.com/maps?hl="+m+"&amp;ie=utf8&amp;output=embed&amp;q="+encodeURIComponent(a.data("address")+n),b+="&amp;z="+g+"&amp;t="+e+"&amp;iwd=1&amp;mrt=loc&amp;iwloc="+p+"&amp;ll="+q,h+='<iframe style="border: none;" width="'+c+'" height="'+d+'" src="'+b+'"></iframe>', a.html(h))}}})}})(jQuery);